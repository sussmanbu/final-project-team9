---
title: "Class blog3"
subtitle: "Dataset and Description 2"
author: "Yating Zhu, Dingyu Guo, Suh Edwin Jiho, Wang Muxi, Xin Wei"
date: "2024-03-26"
date-modified: "2024-03-26"
draft: FALSE
---
## Data Equity 


## Problems and Challenges 
1. We ran into a problem that the data wasn't available for every year. So, we decided to focus on the data from 2022 since that was complete and the most up-to-date for our needs. For comparing how things have changed or stayed the same, we used data from the other years after we draw the conclusion based on 2022 dataset and do the comparsion based on it. This way, we could still make some good guesses about trends over time, using the best information we had.

2. Code Conversion: Our dataset contains variables with specific codes that represent distinct groups or sets of individuals. For clarity in our analysis, it is essential to accurately interpret these codes. 

The table below summarizes all variables that possess this characteristic:

| Variable   | Description                                | Notes                                                             |
|------------|--------------------------------------------|-------------------------------------------------------------------|
| **INCTOT**     | Total personal income                      | Specific codes detailed below:                                    |
|            |                                            | -009995 = -$9,900 (1980)                                           |
|            |                                            | -000001 = Net loss (1950)                                          |
|            |                                            | FTOTINC-000001 = Net loss (1950)                                   |
| **KITCHEN**    | Kitchen facilities                         | 0 = N/A                                                            |
|            |                                            | 1 = No                                                            |
|            |                                            | 2 = No, or shared use                                              |
|            |                                            | 3 = Yes, shared use                                                |
|            |                                            | 4 = Yes (shared or exclusive use)                                  |
|            |                                            | 5 = Yes, exclusive use                                             |
| **MARST**      | Marital status                             | 1 = Married, spouse present                                        |
|            |                                            | 2 = Married, spouse absent                                         |
|            |                                            | 3 = Separated                                                      |
|            |                                            | 4 = Divorced                                                       |
|            |                                            | 5 = Widowed                                                        |
|            |                                            | 6 = Never married/single                                           |
|            |                                            | 9 = Blank, missing                                                 |
| **RACE**       | Race                                       | 1 = White                                                          |
|            |                                            | 2 = Black/African American                                         |
|            |                                            | 3 = American Indian or Alaska Native                               |
|            |                                            | 4 = Chinese                                                        |
|            |                                            | 5 = Japanese                                                       |
|            |                                            | 6 = Other Asian or Pacific Islander                                |
|            |                                            | 7 = Other race, nec                                                |
|            |                                            | 8 = Two major races                                                |
|            |                                            | 9 = Three or more major races                                      |
| **RACED**      | Detailed Race                              | 1 = White                                                          |
|            |                                            | 2 = Black/African American                                         |
|            |                                            | 3 = American Indian or Alaska Native                               |
|            |                                            | 4 = Chinese                                                        |
|            |                                            | 5 = Japanese                                                       |
|            |                                            | 6 = Other Asian or Pacific Islander                                |
|            |                                            | 7 = Other race, nec                                                |
|            |                                            | 8 = Two major races                                                |
|            |                                            | 9 = Three or more major races                                      |
| **POVERTY**    | Poverty levels                             | 001 = 1 percent or less of poverty threshold (including 0 or negative income) |
|            |                                            | 501 = 501 percent or more of poverty threshold                     |


## Data processing 
```{r}
# Load the cleaned data in class_blog 2
library(dplyr)
library(forcats)
library(here)
data_path <- here("dataset", "rent_income.csv")
library(readr)
rent_data <- read_csv(data_path,show_col_types = FALSE)
rent_data_original <- rent_data
```


```{r}
#INCTOT
rent_data <- rent_data %>%
  mutate(INCTOT = case_when(
    INCTOT == "-009995" ~ "-$9,900 (1980)",
    INCTOT == "-000001" ~ "Net loss (1950)",
    INCTOT == "FTOTINC-000001" ~ "Net loss (1950) FTOT",
    TRUE ~ as.character(INCTOT)
  ))
rent_data$INCTOT <- as.factor(rent_data$INCTOT)
```
```{r}
#KITCHEN
rent_data <- rent_data %>%
  mutate(KITCHEN = case_when(
    KITCHEN == "0" ~ "N/A",
    KITCHEN == "1" ~ "No",
    KITCHEN == "2" ~ "No, or shared use",
    KITCHEN == "3" ~ "Yes, shared use",
    KITCHEN == "4" ~ "Yes (shared or exclusive use)",
    KITCHEN == "5" ~ "Yes, exclusive use",
    TRUE ~ as.character(KITCHEN)
  ))
rent_data$KITCHEN <- as.factor(rent_data$KITCHEN)
```
```{r}
#MARST
rent_data <- rent_data %>%
  mutate(MARST = case_when(
    MARST == "1" ~ "Married, spouse present",
    MARST == "2" ~ "Married, spouse absent",
    MARST == "3" ~ "Separated",
    MARST == "4" ~ "Divorced",
    MARST == "5" ~ "Widowed",
    MARST == "6" ~ "Never married/single",
    MARST == "9" ~ "Blank, missing",
    TRUE ~ as.character(MARST)
  ))
rent_data$MARST <- as.factor(rent_data$MARST)
```
```{r}
#RACE
rent_data <- rent_data %>%
  mutate(RACE = case_when(
    RACE == "1" ~ "White",
    RACE == "2" ~ "Black/African American",
    RACE == "3" ~ "American Indian or Alaska Native",
    RACE == "4" ~ "Chinese",
    RACE == "5" ~ "Japanese",
    RACE == "6" ~ "Other Asian or Pacific Islander",
    RACE == "7" ~ "Other race, nec",
    RACE == "8" ~ "Two major races",
    RACE == "9" ~ "Three or more major races",
    TRUE ~ as.character(RACED) 
  ))
rent_data$RACE <- as.factor(rent_data$RACE)
```


```{r}
RENTGRS_summary <- rent_data %>%
  summarize(
     Mean_RENTGRS = mean(RENTGRS, na.rm = TRUE),
     Median_RENTGRS = median(RENTGRS, na.rm = TRUE),
     Min_RENTGRS = min(RENTGRS, na.rm = TRUE),
     Max_RENTGRS = max(RENTGRS, na.rm = TRUE)
  )

COSTGAS_summary <- rent_data %>%
  summarize(
     Mean_COSTGAS = mean(COSTGAS, na.rm = TRUE),
     Median_COSTGAS = median(COSTGAS, na.rm = TRUE),
     Min_COSTGAS = min(COSTGAS, na.rm = TRUE),
     Max_COSTGAS = max(COSTGAS, na.rm = TRUE)
  )

COSTWATR_summary <- rent_data %>%
  summarize(
     Mean_COSTWATR = mean(COSTWATR, na.rm = TRUE),
     Median_COSTWATR = median(COSTWATR, na.rm = TRUE),
     Min_COSTWATR = min(COSTWATR, na.rm = TRUE),
     Max_COSTWATR = max(COSTWATR, na.rm = TRUE)
  )

ROOMS_summary <- rent_data %>%
  summarize(
     Mean_ROOMS = mean(ROOMS, na.rm = TRUE),
     Median_ROOMS = median(ROOMS, na.rm = TRUE),
     Min_ROOMS = min(ROOMS, na.rm = TRUE),
     Max_ROOMS = max(ROOMS, na.rm = TRUE)
  )

AGE_summary <- rent_data %>%
  summarize(
     Mean_AGE = mean(AGE, na.rm = TRUE),
     Median_AGE = median(AGE, na.rm = TRUE),
     Min_AGE = min(AGE, na.rm = TRUE),
     Max_AGE = max(AGE, na.rm = TRUE)
  )

FTOTINC_summary <- rent_data %>%
  summarize(
     Mean_FTOTINC = mean(FTOTINC, na.rm = TRUE),
     Median_FTOTINC = median(FTOTINC, na.rm = TRUE),
     Min_FTOTINC = min(FTOTINC, na.rm = TRUE),
     Max_FTOTINC = max(FTOTINC, na.rm = TRUE)
  )

POVERTY_summary <- rent_data %>%
  summarize(
     Mean_POVERTY = mean(POVERTY, na.rm = TRUE),
     Median_POVERTY = median(POVERTY, na.rm = TRUE),
     Min_POVERTY = min(POVERTY, na.rm = TRUE),
     Max_POVERTY = max(POVERTY, na.rm = TRUE)
  )

print(POVERTY_summary)
```



## Research result used 


